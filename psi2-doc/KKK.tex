\documentclass{VUMIFPSkursinis}
\usepackage{algorithmicx}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{bm}
\usepackage{caption}
\usepackage{color}
\usepackage{float}
\usepackage{graphicx}
\usepackage{listings}
\usepackage{subfig}
\usepackage{wrapfig}
\usepackage{array}
\usepackage{enumitem}

% Allow having thick borders in a table
%\makeatletter
%\newcommand{\thickhline}{%
%    \noalign {\ifnum 0=`}\fi \hrule height 2pt
%    \futurelet \reserved@a \@xhline
%}
%\newcolumntype{"}{@{\vrule width 2pt}}
%\makeatother

% Titulinio aprašas
\university{Vilniaus universitetas}
\faculty{Matematikos ir informatikos fakultetas}
\department{Programų sistemų katedra}
\papertype{Reikalavimų specifikacija}
\title{Knygų keitimosi klubas}
\titleineng{}
\status{2 kurso 5 grupės studentai}
\author{Vidmantas Bakštys}
\secondauthor{Tadas Petrauskas}
\thirdauthor{Tadas Vaitiekūnas} % Pavardes pagal abecele :)
\supervisor{lekt. dr. Vytautas Valaitis}
\date{Vilnius – 2017}

% Nustatymai
% \setmainfont{Palemonas}   % Pakeisti teksto šriftą į Palemonas (turi būti įdiegtas sistemoje)
\bibliography{bibliografija}

\begin{document}
\maketitle

\setcounter{tocdepth}{2}

\pagenumbering{gobble}  % nerodyti puslapio numberio turinyje
\tableofcontents
\pagenumbering{arabic} 

\setcounter{secnumdepth}{0}

\sectionnonum{Anotacija}
Laboratoriniame darbe apibrėžiami reikalavimai sistemai, struktūrinis dalykinės srities modelis (angl. Domain modelling), preliminarios sistemos atliekamos užduotys (angl. Use case modelling) ir atliekama reikalavimų peržiūra. Darbas atliekamas taikant ICONIX procesą.\\
Darbą įgyvendina Programų sistemų 2 kurso 5 grupės studentai Vidmantas Bakštys, Tadas Petrauskas, Tadas Vaitiekūnas.

\sectionnonum{Įvadas}
Šiame dokumente tobulinama programų sistemos "Knygų keitimosi klubas"(toliau - KKK) architektūra, remiantis ICONIX proceso pirmuoju žingsniu

\subsection{Darbo tikslas}
Remiantis ICONIX procesu, patobulinti esamą sistemą, suteikiant papildomo funkcionalumo vartotojui bei pilnai patenkinant užsakovo poreikius

\subsection{Dalykinė sritis}
Literatūros prekyba ir mainai

\subsection{Probleminė sritis}
Sklandus literatūros vienetų pardavimas ir apsikeitimas jais išvengiant apgaulės ir sukčiavimo atvejų

\subsection{Sistemos naudotojai}
Sistema skirta naudoti registruotiems vartotojams bei sistemos svečiams

%Šiame dokumente pateikiama programų sistemos „Automobilių dalių prekybos platforma" (toliau ADPP) architektūra. Ji yra apibrėžiama aprašant sistemą keliais aspektais (pjūviais), naudojant 4+1 pjūvių modelį. Architektūra buvo projektuojama taip, kad būtų įgyvendinami ankščiau pateikti užsakovo poreikiai, bei remiantis dalykinės srities analize. Šis dokumentas yra skirtas programuotojams, kuriantiems šią sistemą, bei būsimos sistemos administratoriams.
%
\setcounter{secnumdepth}{4}

\section{Reikalavimai}
	Šiame skyriuje pateikiami funkciniai bei nefunkciniai reikalavimai sistemai, apibrėžiantys norimą sistemos pokytį.
	Reikalavimai buvo sudaryti remiantis esama sistema ir užsakavo pateiktais pradiniais reikalavimais,
	kurie yra pateikiami šio dokumento priede.
\subsection{Funkciniai reikalavimai}
	\begin{enumerate}[label=\textbf{FR\arabic*}]
		\item Užsiregistravęs vartotojas gali prisijungti:
			\begin{enumerate}[label*=\textbf{.\arabic*}]
				\item Naudodamasis savo vartotojo vardu (arba elektroniniu paštu) ir slaptažodžiu;
				\item Naudodamasis socialinio tinklo paskyrą;
			\end{enumerate}
		\item Norimų gauti knygų sąrašas;
			\begin{enumerate}[label*=\textbf{.\arabic*}]
				\item Kiekvienas registruotas vartotojas gali pridėti knygų prie savo sarašo;
				\item Vartotojas gali įkelti knygą į savo saraša nurodydamas ISBN kodą;
				\item Vartotojas gali ieškoti knygos internete pagal pavadinimą ar autorių ir 
					pasirinkęs ją įkelti į savo sarašą;
				\item Sistema neleidžia įkelti neegzistuojančios knygos į savo sarašą;
				\item Vartotojai gali matyti, savo ir kitų vartotojų sarašus;
				\item Varotojui pranešti (el paštu) kada sistemoje atsiranda knyga esenti jo saraše;
		    \end{enumerate}
		\item Knygos įkėlimas į sistemą;
			\begin{enumerate}[label*=\textbf{.\arabic*}]
				\item Vartotojas gali įkelti knygą įvesdamas knygos ISBN kodą;
				\item Vartotojas gali ieškoti knygos pagal pavadinimą ar autorių ir 
					pasirinkęs ją įkelti;
				\item Sistemą leidžia vartotojui įkelti knygą tik jei knyga su tuo ISBN kodu egzistuoja;
				\item Vartotojas gali pridėti komentarą apie savo įkeltą knygą;
				\item Vartotojo pridėtos knygos puslapyje automatiškai pridėti oficialų aprašymą apie knygą;
			\end{enumerate}
		\item Įkeltų knygų paieška;
			\begin{enumerate}[label*=\textbf{.\arabic*}]
				\item Lankytojas gali ieškoti knygos sistemoje pagal ISBN kodą;
				\item Lankytojas gali ieškoti knygos pagal raktinius žodžius;
				\item Jei knygos sistemoje nėra, ieškoti jos internete, radus pasiūlyti pridėti
					prie norimų gauti knygų sarašo;
				\item Knygos gali ieškoti ir neregistruotas lankytojas;
			\end{enumerate}
		\item Vartotojai gali ieškoti kitų vartotojų, matyti jų puslapius ir su jais susisiekti;
		\item Vartotojas gali pasiūlyti savo įkeltą knygą kitam vartotojui;
		\item Vartotojo puslapyje rodyti išsamią statistiką;
			\begin{enumerate}[label*=\textbf{.\arabic*}]
				\item Sėkmingų mainų skaičius;
				\item Įkeltų knygų skaičius; 
				\item Kitų vartotojų įvertinimai;
				\item Ivertinimų vidurkis;
			\end{enumerate}
	\end{enumerate}
\subsection{Nefunkciniai reikalavimai}
	\begin{enumerate}[label=\textbf{NFR\arabic*}]
		\item Tinklapis turi būti pasiekiamas ir patogus naudoti, per mobilųjį įrenginį;
		\item Turi būti užtikrintas duomenų vientisumas duomenų bazėje;
		\item Turi būti užtikrinta galimybė atkurti duomenų bazės duomenis, įvykus sutrikimams;
		\item Turi būti sukurta sistemos administravimo dokumentacija;
	\end{enumerate}

\section{Struktūrinis dalykinės srities modelis}
	Šiame skyriuje pateikiamas struktūrinis nagrinėjamos dalykinės srities modelis. 
	Modelis pateikiamas UML klasių diagramomis kartu su žodynu - sąrašu esybių su jų aprašymais. 
	\subsection{Esybės}
		\begin{figure}[H]
			\centering
			\includegraphics[scale=0.7]{img/DomainModel.png}
			\caption{Dalykinės srities esybės}
			\label{img:psi2}
		\end{figure}

	\subsection{Žodynas}
		\begin{enumerate}[label=\textbf{E\arabic*.}]
			\item Vartotojas - Asmuo užsiregistravęs (turintis paskyrą) sistemoje;
			\item Lankytojas - Asmuo apsilankęs tinklapyje (nebūtinai vartotojas);
			\item Knyga - literatūros kūrinys, turintis ISBN kodą;
			\item Įkelta knyga - į KKK sistemą ikelta knyga;
			\item Knygų duomenų bazė - Duomenų bazė prie kurios sistema jungsis ieškodama knygų, tikrindama ISBN kodus. 
				Ši duomenų bazė KKK sistemai nepriklauso, bet su ja bus bendraujama per specifikuota API.
			\item Knygų sąrašas - bet kokių knygų rinkinys;
			\item Ikeltų knygų katalogas - sąrašas visų į KKK sistemą įkeltų knygų;
			\item Knygos aprašymas - oficialus knygos aprašymas paimtas iš knygų duomenų bazės;
			\item Komentaras - Vartotojo komentaras apie savo įkeltą knygą;
			\item Pageidavimų sąrašas - Sarašas knygų, kurias vartotojas norėtų įsigyti;
			\item Vartotojo puslapis - vartotojo turimas paskyros puslapis kuriame patalpinta visa viešai matoma vartotojo informacija;
			\item Paieškos rezultatas - knygos paieškos knygų duomenų bazėje rezultatas, ar KKK sistemoje rezultatas;
			\item Vartotojo statistika - Statistinė informacija apie vartotojo paskyrą: sėkmingų mainų skaičius, įkeltų knygų skaičius,
				kitų vartotojų įvertinimai, įvertinimų vidurkis;
			\item Įkeltos knygos puslapis - puslapis, kuriame rodoma visas įkeltos knygos informacija, įskaitant ir ikėlėjo komentarą;
		\end{enumerate}

	\subsection{Reikalavimų - esybių atsekamumo matrica}
\section{Užduotys}
	Šiame skyriuje pateikiamos sistemos atliekamos užduotys, jų pagrindiniai, bei alternatyvūs scenarijai.
	%TODO: uzduociu uml
	\subsection{Užduočių aprašymai}
		\begin{enumerate}[label=\textbf{U\arabic*.}]
			%TODO: gui eskizai
			\item \textbf{Užsiregistruoti};		% leisti asocijuoti su soc. tinklo paskyra
				Lankytojas paspaudžia mygtuką „užsiregistruoti.“ Sistema parodo registracijos langą, kuriame yra registracijos forma.
				Lankytojas suveda savo pasirinktą vartotojo vardą, elektroninį paštą, bei slaptažodį, taip pat jei nori, 
				papildomą informaciją: gyvenamąją vietą, amžių. Tada lankytojas paspaudžia „patvirtinti.“ 
				Sistema patikrina ar įvesta informacija yra tinkama ir sukuria naują vartotojo paskyrą duomenų bazėje.
				Sistema išsiunčia patvirtinimo laiška nurodytu el. paštu. 
				Lankytojas patvirtina, savo registraciją paspausdamas nuorodą, gautame laiške. Sistema, gavusi patvirtinimą, išsaugo vartotoją duomenų bazėje kaip patvirtintą,
				pakeičia lankytojo statusą į prisijungusį, bei parodo pagrindinį tinklapio puslapį.\\
				\textbf{Alternatyvūs scenarijai:}
				\begin{itemize}
					\item Jei lankytojo suvesta informacija nėra tinkama, sistema parodo pranešimą apie tai, nurodydama kurios įvestys nėra tinkamos.
					\item Jei vartotojo paskyra nėra patvirtinama per 24 valandas, sistema panaikina vartotojo paskyrą duomenų bazėje.
					\item Jei lankytojas registracijos formoje paspaudžia mygtuką „tęsti su facebook,“ sistema inicijuoja registracija per soc. tinklą.
	                    Naršyklė lankytojo paprašo patvirtinti, kad leidžia perduoti facebook vartotojo duomenis sistemai.
						Sistema gauna pagrindinę vartotojo informacija iš facebook, bei sukuria naują vartotojo paskyrą duomenų bazėje.
						Sistema pakeičia lankytojo statusą į prisijungusį, bei parodo pagrindinį puslapį.
						\begin{itemize}
							\item Jei lankytojas nėra prisijungęs prie facobook naršyklėje, jis nukreipiamas į facebook prisijungimo langą. 
								Lankytojas prisijungia, tuomet sistema tęsia registracijos procesą.
							\item Jei įvyksta sutrikimai asocijuojant lankytoją su facebook paskyra arba lankytojas atsisako patvirtinti informacijos perdavimą,
								sistema vartotoją gražina į registracijos puslapį.
						\end{itemize}
				\end{itemize}
			\item \textbf{Prisijungti;}
				Lankytojas įveda savo vartotojo vardą ar (elektroninį paštą) ir slaptažodį i tam skirtus laukelius, bei spaudžia prisijungti.
				Sistema patikrina ar yra vartotojas su tokiu prisijungimo vardu ar el. paštu sistemoje. 
				Tada sistema patikrina ar įvestas slaptažodis yra vartotojo. Sistema pakeičia lankytojo statusą į prisijungusį ir parodo pagrindinį puslapį.\\
				\textbf{Alternatyvūs scenarijai:}
				\begin{itemize}
					\item Jei vartotjas su tokiais duomenimis nerastas parodomas pranešimas apie tai.
					\item Jei lankytojas paspaudžia mygtuką „prisijungti su facebook“ sistema inicijuoja prisijungimą per facebook.
						\begin{itemize}
							\item Jei lankytojas nėra prisijungęs prie facobook naršyklėje, jis nukreipiamas į facebook prisijungimo langą. 
								Lankytojas prisijungia, tuomet sistema tęsia prisijungimo procesą.
							\item Jei įvyksta sutrikimai asocijuojant lankytoją su facebook paskyra arba lankytojas atsisako patvirtinti informacijos perdavimą,
								sistema vartotoją gražina į pagrindinį puslapį.
							\item Jei lankytojo facebook paskyra nėra asocijuota su jokiu KKK sistemos vartotoju, sistema inicijuoja vartotojo registraciją per facebook (žr. U1: alternatyvūs scenarijai).
						\end{itemize}
				\end{itemize}
			\item \textbf{Pridėti knygą prie pageidavimų sąrašo;} \\
				Vartotojas paspaudžia mygtuką „prideti knyga prie pageidavimų sąrašo“. 
				Sistema vykdo užduotį „Ieškoti knygos knygų duomenų bazėje“ (žr. U6).
				Vartotojas rastų knygų saraše pasirenka vieną iš knygų, ir paspaudžia mygtuką „pridėti pasirinktą knygą“.
				Sistema vykdo užduotį „pridėti pasirinktą knygą prie pageidavimų sąrašo“ (žr. U7).
			\item \textbf{Įkelti knygą į sistemą;}\\
				Vartotojas paspaudžia mygtuką „Įkelti knygą“. Sistema vykdo užduotį „Ieškoti knygos knygų duomenų bazėje“ (žr. U6).
				Vartotojas rastų knygų saraše pasirenka vieną iš knygų. Sistema sukuria užklausą pasirinktos knygos aprašymui gauti iš knygų duomenų bazės. 
				Sistema gauna atsakymą su knygos aprašymu. Sistema parodo knygos pridejimo langą, 
				kurį užpildo informacija apie knygą (autorius, pavadinimas, leidimo metai, aprašymas). Vartotojas prideda savo komentarus apie knyga ir apie
				savo turima egzempliorių. Vartotojas paspaudžia mygtuką „išsaugoti“. Sistemą patikrina ar vartotojo įvestas komentaras nėra per ilgas.
				Sistema išsaugo knyga ir visą jos informaciją įkeltų knygų kataloge. Vartotojui parodomas pranešimas, kad knyga sėkmingai įkelta.\\
				\textbf{Alternatyvūs scenarijai:}
				\begin{itemize}
					\item Jei sistemai nepavyksta susisiekti su knygų duomenų baze arba negaunamas atsakymas su knygos aprašymu, vartotojui parodomas pranešimas apie sutrikimą.
					\item Jei vartotojo pridėtas komentaras yra per ilgas, vartotojui parodomas pranešimas apie tai.
					\item Jei dėl kokių nors priežasčių knygos nepavyko išsaugoti įkeltų knygų saraše. Vartotojui parodomas pranešimas ir paprašoma bandyti vėliau.
				\end{itemize}
			\item \textbf{Ieškoti knygos įkeltų knygų kataloge;}\\
				Lankytojas paspaudžia mygtuką ieškoti knygos. Sistema parodo knygos ieškojimo langą.
				Lankytojas pasirenka ar ieškoti pagal ISBN kodą ar pagal raktinius žodžius. 
				Lankytojas įveda ISBN kodą arba raktažodžius. Sistema patikrina ar įvestis yra validi.
				Sistema pagal vartotojo įvestį ieško knygos įkeltų knygų kataloge. 
				Jei buvo rasta bent viena knyga, sistema parodo rastų knygų sąrašą vartotojui. Vartotojas pasirenka vieną iš rastų knygų.
				Sistema parodo įkeltos knygos puslapį (žr. U8).\\
				\textbf{Alternatyvūs scenarijai:}
				\begin{itemize}
					\item Jei lankytojo įvestis nėra validi, sistema parodo pranešima. Lankytojas įveda ISBN kodą arba raktažodžius iš naujo.
					\item Jei knyga nebuvo rasta įkeltų knygų kataloge, sistema parodo pranešimą, kad įkeltų knygų kataloge knyga nerasta 
						ir atlieka paieška knygų duomenų bazėje, naudodama tą pačia vartotojo įvestį (žr. U6). Jei paieška buvo sėkminga ir buvo rasta bent viena knyga, 
						sistema rezultatų lange parodo rastų knygų sąrašą. Lankytojas pasirenka knygą iš rastų knygų sąrašo.
						Sistema parodo informaciją apie knygą, jos aprašymą. Jei lankytojas yra vartotojas jis gali paspausti mygtuką „pridėti pasirinktą knygą prie pageidavimų sąrašo“ (žr. U7).
						Kitu atveju jam pasiūloma užsiregistruoti (žr. U1).
				\end{itemize}
			\item \textbf{Ieškoti knygos knygų duomenų bazėje}\\
				Sistema vykdydama kita užduotis gauna komandą ieškoti knygos išorinėje knygų duomenų bazėje. 
				Sistema vartotojui parodo knygos paieškos langą. Vartotojas pasirenka ar nori knygos ieškoti pagal
				ISBN kodą ar pagal raktažodžius (autorių ar pavadinimą). Vartotojas įveda ISBN kodą arba raktažodžius.
				Sistema patikrina ar įvestis yra validi. Sistema naudodama vartotojo įvesti sukuria užklausą išorinei knygų duomenų bazei. 
				Sistema gauna atsakyma ir patikrina ar buvo gauta bent viena knyga. Sistema parodo rastų knygų sąrašą.\\
				\textbf{Alternatyvūs scenarijai:}
				\begin{itemize}
					\item Jei vartotojo įvestas ISBN kodas nėra validus, sistema vartotojui parodo pranešimą ir laukia naujos įvesties;
					\item Jei, dėl kokių nors priežasčių, sistemai nepavyksta susisiekti su knygų duomenų baze, vartotojui parodomas pranešimas apie tai;
					\item Jei knygų duomenų bazė neranda nei vienos knygos, naudodama vartotojo įvestį, vartotojui apie tai pranešama. 
						Vartotojas gali pakeisti įvestį ir ieškoti iš naujo;
				\end{itemize}
			\item \textbf{Pridėti pasirinktą knygą prie pageidavimų sąrašo}\\
				Sistema vykdydama kitas užduotis, gauna komanda pridėti pasirinktą knygą prie pageidavimų sąrašo.
				Sistema patikrina ar knygos dar nėra vartotojo pageidavimų sąraše duomenų bazėje ir knygą prideda.
				Vartotojui parodomas pranešimas, kad knyga sėkmingai pridėta.\\
				\textbf{Alternatyvūs scenarijai:}
				\begin{itemize}
					\item Jei vartotojo pasirinkta knyga jau yra jo pageidavimų sąraše, vartotojui tai pranešama. Knyga nėra pridedama prie pageidavimų sąrašo;
				\end{itemize}
			\item \textbf{Peržiūreti vartotojo puslapį;}\\
			\item \textbf{Peržiūrėti įkeltos knygos puslapį}\\
			\item \textbf{Susisiekti su kitais vartotojais;}\\
			\item \textbf{Susisiekti su pardevėju;}\\
			\item \textbf{Susisiekti su pirkėju;}\\
			\item \textbf{Įvertinti mainus;}\\ % fiksuoti statistiką
			\item \textbf{Pasiūlyti savo įkeltą knygą kitam vartotojui;}
		\end{enumerate}
	\subsection{Reikalavimų - užduočių atsekamumo matrica}

\section{Peržiūros metu rastos klaidos}
	\begin{itemize}
		\item 
	\end{itemize}

	
\setcounter{secnumdepth}{0}
\sectionnonum{Priedai}
\subsection{Užsakovo reikalavimai sistemai}
\begin{enumerate}
	\item Leisti vartotojui prisijungti prie sistemos naudojant socialinių tinklų paskyras;
	\item Leisti vartotojui užregistruoti knyga įvedant ISBN kodą;
	\item Kiekvieną kartą vartotjui užregistruojant naują knygą, pagal ISBN koda patikrinti
		ar knyga egzistuoja. Jei ne, knygos neužregistruoti;
	\item Vartotojui užregistruojant naują knygą leisti ieškoti knygos pagal 
		nebūtinai pilną pavadinimą arba autoriu;
	\item Leisti ieškoti knygos sistemoje pagal ISBN kodą;
	\item Kiekvienam vartotojui leisti susikurti savo norimų gauti knygų sarašą (wishlist);
	\item Neradus ieškomos knygos sistemoje, pasiūlyti ją pridėti prie norimų gauti knygų sarašo;
	\item Suteikti galimybe vartotojui pasiūlyti savo įkeltą knygą kitam vartotojui;
	\item Suteikti galimybe vartotojui ieškoti kitų vartotojų, bei susisiekti su jais ne vien
		perkant iš jų knygas;
	\item Vartotojo užregistruotos knygos puslapyje automatiškai pridėti knygos aprašymą
		iš interneto;
	\item Leisti pridėti savo komentarus prie savo įkeltos knygos (apie knygos kokybę,
		pačią knyga ir panašiai);
	\item Vartotojo paskyroje rodyt išsamią vartotojo statistiką (sėkmingų mainų skaičius,
		įvertinimai);
	\item Tinklapis turi būti pasiekiamas ir patogus naudoti, per mobilųjį įrenginį;
	\item Turi būti užtikrintas duomenų vientisumas duomenų bazėje;
	\item Turi būti užtikrinta galimybė atkurti duomenų bazės duomenis, įvykus sutrikimams;
	\item Turi būti sukurta sistemos administravimo dokumentacija;
\end{enumerate}


\setcounter{secnumdepth}{4}


%\printbibliography[heading=bibintoc]  % Šaltinių sąraše nurodoma panaudota
\sectionnonum{Šaltinių sąrašas}
	\begin{itemize}
		\item http://www.mif.vu.lt/~karolis/PSI2.html
	\end{itemize}

% literatūra, kitokie šaltiniai. Abėcėlės tvarka išdėstomi darbe panaudotų
% (cituotų, perfrazuotų ar bent paminėtų) mokslo leidinių, kitokių publikacijų
% bibliografiniai aprašai.  Šaltinių sąrašas spausdinamas iš naujo puslapio.
% Aprašai pateikiami netransliteruoti. Šaltinių sąraše negali būti tokių
% šaltinių, kurie nebuvo paminėti tekste.

\end{document}
